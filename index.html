<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Web App</title>
    <script src="https://telegram.org/js/telegram-web-app.js?56"></script>
</head>
<body>
    <h1>Welcome to Telegram Web App</h1>
    <div id="menuContainer"></div>

    <script>
        // Инициализация Web App
        window.Telegram.WebApp.ready();

        // Функция для извлечения параметров URL
        function getURLParams(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Получаем переданные данные (меню) в формате JSON из URL
        const menuData = JSON.parse(getURLParams('data'));

        // Отображаем меню на странице
        const menuContainer = document.getElementById("menuContainer");

        if (menuData) {
            const categories = Object.keys(menuData);
            categories.forEach(category => {
                const categoryDiv = document.createElement("div");
                categoryDiv.innerHTML = `<h3>${menuData[category].name}</h3>`;
                const itemsList = document.createElement("ul");
                menuData[category].items.forEach(item => {
                    const itemLi = document.createElement("li");
                    itemLi.innerHTML = `<strong>${item.name}</strong><br>Price: ${item.price}<br>Description: ${item.description}`;
                    itemsList.appendChild(itemLi);
                });
                categoryDiv.appendChild(itemsList);
                menuContainer.appendChild(categoryDiv);
            });
        } else {
            menuContainer.innerHTML = "Меню не найдено!";
        }
    </script>
</body>
</html>

