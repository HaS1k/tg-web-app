<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Web App</title>
    <script src="https://telegram.org/js/telegram-web-app.js?56"></script>
</head>
<body>
    <h1>Welcome to Telegram Web App</h1>
    <div id="menu"></div>

    <script>
        // Инициализация Web App
        window.Telegram.WebApp.ready();

        // Функция для извлечения параметров URL
        function getQueryParams() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('menu');
        }

        // Декодируем JSON данные из base64
        const encodedMenu = getQueryParams();
        if (encodedMenu) {
            const decodedMenu = atob(encodedMenu);
            const menuData = JSON.parse(decodedMenu);

            // Отображаем меню на странице
            const menuContainer = document.getElementById('menu');
            menuData.forEach(category => {
                const categoryElement = document.createElement('div');
                categoryElement.innerHTML = `<h2>${category.name}</h2>`;
                category.items.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.innerHTML = `
                        <h3>${item.name}</h3>
                        <p>${item.description}</p>
                        <p>Price: ${item.price}</p>
                        <img src="${item.image}" alt="${item.name}">
                    `;
                    categoryElement.appendChild(itemElement);
                });
                menuContainer.appendChild(categoryElement);
            });
        } else {
            document.getElementById('menu').innerHTML = 'No menu data available.';
        }
    </script>
</body>
</html>

