<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">

    <title>–ú–∞–≥–∞–∑–∏–Ω</title>
    <!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω –¥–æ—Å—Ç–∞–≤–∫–∏ –µ–¥—ã</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        let cart = [];
        let items = [
            { id: 1, name: "–ë—É—Ä–≥–µ—Ä", price: 150, category: "burgers", description: "–°–æ—á–Ω—ã–π –≥–æ–≤—è–∂–∏–π –±—É—Ä–≥–µ—Ä —Å —Å–æ—É—Å–æ–º BBQ", img: "https://via.placeholder.com/100" },
            { id: 2, name: "–ü–∏—Ü—Ü–∞", price: 400, category: "burgers", description: "–ü–∏—Ü—Ü–∞ —Å —Å—ã—Ä–æ–º –º–æ—Ü–∞—Ä–µ–ª–ª–∞ –∏ —Ç–æ–º–∞—Ç–Ω—ã–º —Å–æ—É—Å–æ–º", img: "https://via.placeholder.com/100" },
            { id: 3, name: "–ö–æ–ª–∞", price: 100, category: "drinks", description: "–û—Ö–ª–∞–∂–¥–µ–Ω–Ω—ã–π –≥–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫", img: "https://via.placeholder.com/100" },
            { id: 4, name: "–ú–æ—Ä–æ–∂–µ–Ω–æ–µ", price: 120, category: "desserts", description: "–®–æ–∫–æ–ª–∞–¥–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ —Å –æ—Ä–µ—Ö–∞–º–∏", img: "https://via.placeholder.com/100" }
        ];

        function showItems(category) {
            let itemsContainer = document.getElementById("items");
            itemsContainer.innerHTML = "";

            let filteredItems = items.filter(item => item.category === category);
            filteredItems.forEach(item => {
                let itemCard = document.createElement("div");
                itemCard.className = "item-card";
                itemCard.innerHTML = `
                    <img src="${item.img}" alt="${item.name}" onclick="showItemDetails(${item.id})">
                    <h3>${item.name}</h3>
                    <p>${item.price}‚ÇΩ</p>
                    <button class="add-to-cart" onclick="addToCart(${item.id})">–î–æ–±–∞–≤–∏—Ç—å</button>
                `;
                itemsContainer.appendChild(itemCard);
            });
        }

        function showItemDetails(id) {
            let item = items.find(i => i.id === id);
            let modal = document.getElementById("item-modal");
            let modalContent = document.getElementById("modal-content");
            modalContent.innerHTML = `
                <h2>${item.name}</h2>
                <img src="${item.img}" alt="${item.name}">
                <p>${item.description}</p>
                <p><strong>–¶–µ–Ω–∞: ${item.price}‚ÇΩ</strong></p>
                <button class="add-to-cart" onclick="addToCart(${item.id}); closeModal()">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
            `;
            modal.style.display = "block";
        }

        function closeModal() {
            document.getElementById("item-modal").style.display = "none";
        }

        function addToCart(id) {
            let item = items.find(i => i.id === id);
            let cartItem = cart.find(i => i.id === id);
            if (cartItem) {
                cartItem.quantity++;
            } else {
                cart.push({ ...item, quantity: 1 });
            }
            updateCartButton();
        }

        function updateCartButton() {
            let cartBtn = document.getElementById("cart-button");
            let totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartBtn.innerText = `üõí –ö–æ—Ä–∑–∏–Ω–∞ (${totalItems})`;
        }

        function showCart() {
            let cartModal = document.getElementById("cart-modal");
            let cartContent = document.getElementById("cart-content");
            cartContent.innerHTML = "";

            if (cart.length === 0) {
                cartContent.innerHTML = "<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>";
            } else {
                cart.forEach(item => {
                    let cartItem = document.createElement("div");
                    cartItem.className = "cart-item";
                    cartItem.innerHTML = `
                        <p>${item.name} - ${item.price}‚ÇΩ</p>
                        <input type="number" min="1" value="${item.quantity}" onchange="updateQuantity(${item.id}, this.value)">
                        <button onclick="removeFromCart(${item.id})">‚ùå</button>
                    `;
                    cartContent.appendChild(cartItem);
                });
            }
            cartModal.style.display = "block";
        }

        function updateQuantity(id, quantity) {
            let cartItem = cart.find(i => i.id === id);
            if (cartItem) {
                cartItem.quantity = parseInt(quantity);
            }
            updateCartButton();
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCartButton();
            showCart();
        }

        function placeOrder() {
            if (cart.length === 0) {
                alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
                return;
            }
            const order = { user_id: 12345, items: cart };
            Telegram.WebApp.sendData(JSON.stringify(order));
            Telegram.WebApp.close();
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>üçî –ú–∞–≥–∞–∑–∏–Ω –¥–æ—Å—Ç–∞–≤–∫–∏ –µ–¥—ã</h1>

        <!-- –†–∞–∑–¥–µ–ª—ã —Ç–æ–≤–∞—Ä–æ–≤ -->
        <div class="categories">
            <button onclick="showItems('burgers')">üçî –ë—É—Ä–≥–µ—Ä—ã</button>
            <button onclick="showItems('drinks')">ü•§ –ù–∞–ø–∏—Ç–∫–∏</button>
            <button onclick="showItems('desserts')">üç∞ –î–µ—Å–µ—Ä—Ç—ã</button>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ -->
        <div id="items" class="items"></div>

        <!-- –ö–Ω–æ–ø–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
        <button id="cart-button" class="cart-button" onclick="showCart()">üõí –ö–æ—Ä–∑–∏–Ω–∞ (0)</button>
    </div>

    <!-- –û–∫–Ω–æ –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
    <div id="item-modal" class="modal">
        <div class="modal-content" id="modal-content"></div>
        <button onclick="closeModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <!-- –û–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cart-modal" class="modal">
        <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
        <div id="cart-content"></div>
        <button class="order-button" onclick="placeOrder()">‚úÖ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        <button onclick="document.getElementById('cart-modal').style.display='none'">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
</body>
</html>

    <script src="https://telegram.org/js/telegram-web-app.js?56"></script>
</body>
</html>
